import net.fabricmc.loom.task.RemapJar

plugins {
    id 'fabric-loom' version '0.2.0-SNAPSHOT'
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

archivesBaseName = "WateredDown"
version = "0.3.0"

minecraft {
}

dependencies {
    minecraft "com.mojang:minecraft:18w50a"
    mappings "net.fabricmc:yarn:18w50a.59"
    modCompile "net.fabricmc:fabric-loader:0.3.0.74"

    // Fabric API. This is technically optional, but you probably want it anyway.
    modCompile "net.fabricmc:fabric:0.1.2.63"
}

// TODO Fix
task apiJar(type: Jar) {
    classifier = 'juuxel.watereddown.api'

    from(sourceSets.main.output) {
        include "juuxel/watereddown/juuxel.watereddown.api/**"
    }
}

task remapApiJar(type: RemapJar) {
    jar = apiJar.outputs.files.find()
}

tasks.remapApiJar.dependsOn(tasks.apiJar)
